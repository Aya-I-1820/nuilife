<div class="container py-4">
  <h1 class="h5 mb-3"><%= @nui.name %> のフォロワー</h1>

  <div class="mb-3 text-muted">
    フォロワー数：
    <strong><%= @nui.respond_to?(:followers_count) ? @nui.followers_count : @nui.followers.count %></strong>
  </div>

  <% if @follows.any? %>
    <ul class="list-unstyled">
      <% @follows.each do |follow| %>
        <% user = follow.user %>
        <li class="d-flex align-items-center gap-2 py-2 border-bottom">
          <!-- アイコン -->
          <%= link_to user_path(user) do %>
            <% if user.avatar&.attached? %>
              <%= image_tag user.avatar.variant(resize_to_fill: [40,40]).processed,
                            class: "rounded-circle border" %>
            <% else %>
              <%= image_tag "no_image.svg", size: "40x40", class: "rounded-circle border" %>
            <% end %>
          <% end %>

          <!-- ユーザー名（フォロワーID） -->
          <%= link_to user_name(user), user_path(user),
                      class: "fw-semibold text-decoration-none text-dark" %>
        </li>
      <% end %>
    </ul>
  <% else %>
    <p class="text-muted">まだフォロワーはいません。</p>
  <% end %>

  <div class="mt-3">
    <%= link_to "← ぬいのプロフィールへ戻る", @nui %>
  </div>
</div>
